<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="BigProjectRecomendations.css">
</head>
<body>
    <div id="container">
        <ul id="nav">
            <li class="navlink"><a href="BigProjectMain.html" id="linkcentre">Home</a></li>
            <li class="navlink"><a href="BigProjectShow.html" id="linkleft">Showcase</a></li>
            <li class="navlink"><a href="BigProjectRecomendations.html" id="linkright"><u>Suggestions</u></a></li>
        </ul>
    </div>

    <br><br><br>
    <div id="everything">
        <br><br>
        
        <form id="videoform">
            <label id="top">Name:</label><br>
            <input type="text" id="name" name="name"><br><br><br>
            <label>Email:</label><br>
            <input type="email" id="email" name="email"><br><br><br>
            <h2>Enter Video Link</h2>
            <label for="videolink">Video Link: (From Youtube)</label><br>
            <input type="text" id="videolink" name="videolink" required><br><br>
            <button type="submit">Submit</button>
        </form>
    
        <div id="video-container">
            <h3>Video Preview</h3>
            <div id="videoplayer"></div>
            <p id="thanks"></p>
        </div>
       
        <script>
            document.getElementById('videoform').addEventListener('submit', function(event) {
                event.preventDefault()
                let videolink = document.getElementById('videolink').value
                displayVideo(videolink)
            })
    
            function displayVideo(link) {
                document.getElementById('videoplayer').innerHTML = ''
                if (link.includes('youtube.com') || link.includes('youtu.be')) {
                    let videoId = extractYouTubeVideoId(link)
                    if (videoId) {
                        let embedUrl = `https://www.youtube.com/embed/${videoId}`
                        let iframe = document.createElement('iframe')
                        iframe.setAttribute('width', '560')
                        iframe.setAttribute('height', '315')
                        iframe.setAttribute('src', embedUrl)
                        iframe.setAttribute('allowfullscreen', '')
                        document.getElementById('videoplayer').appendChild(iframe)
                        let thanks = document.getElementById('thanks')
                        thanks.innerHTML = 'Thanks for submitting!'
                    } else {
                        document.getElementById('videoplayer').textContent = 'Invalid YouTube video link'
                    }
                } else {
                    document.getElementById('videoplayer').textContent = 'Unsupported video link'
                }
            }
    
            function extractYouTubeVideoId(url) {
                let videoId = ''
                if (url.includes('youtube.com')) {
                    videoId = url.split('v=')[1]
                } else if (url.includes('youtu.be/')) {
                    videoId = url.split('youtu.be/')[1]
                }
                if (videoId.includes('&')) {
                    videoId = videoId.split('&')[0]
                }
                return videoId
            }
        </script></div>
    
    
</body>
</html>